const n=`### 如何使用 Lighthouse 和 Chrome Performance 面板分析前端性能瓶颈？

**答案：**

#### 一、Lighthouse（一站式性能分析工具）

Lighthouse 是 Chrome 内置工具，可分析性能、可访问性、SEO、PWA 等维度，输出量化报告和优化建议。

##### 使用步骤

1. 打开 Chrome DevTools（F12 / 右键检查）→ 切换到「Lighthouse」标签；

2. 配置检测项：勾选「Performance」（性能）、按需勾选「SEO」「Best Practices」等；

3. 选择检测目标：「Desktop」（桌面）/「Mobile」（移动端）；

4. 点击「Generate report」（生成报告），等待检测完成。

##### 核心分析维度（性能模块）

- **核心 Web 指标**：LCP、INP、CLS 的得分和优化建议；

- **性能指标**：FCP、TTI、TTFB（首字节时间）等；

- **优化建议**：
	- 减少未使用的 JS/CSS；
	- 优化图片（压缩、格式转换）；
	- 启用文本压缩（Gzip/Brotli）；
	- 消除渲染阻塞资源；

- **机会 / 诊断**：明确性能瓶颈（如 “大型网络负载”“长任务阻塞主线程”）。

##### 解读报告

- 得分（0-100）：≥90 优秀，75-89 良好，0-74 需优化；

- 优先解决「Opportunities」（机会）中的高收益项（如 “压缩图片可节省 500KB”）；

- 查看「Diagnostics」（诊断）定位根因（如 “TTFB 过长”→ 服务器响应慢）。

#### 二、Chrome Performance 面板（精准定位执行瓶颈）

Performance 面板可录制页面加载 / 交互过程，可视化展示主线程执行、网络请求、渲染流程，精准定位耗时任务。

##### 使用步骤

1. 打开 DevTools → 切换到「Performance」标签；

2. 点击「Record」（录制按钮，圆形红点），执行需分析的操作（如刷新页面、点击按钮）；

3. 完成后点击「Stop」，自动生成性能图谱。

##### 核心图谱解读

- **FPS 面板**：帧率（越高越好，<60fps 表示卡顿）；

- **CPU 面板**：CPU 使用率（100% 表示主线程阻塞）；

- **NET 面板**：网络请求时序（可查看请求耗时、顺序）；

- **主线程时序图**：核心分析区域，展示各阶段耗时：
	- **Parsing HTML**：HTML 解析耗时；
	- **Scripting**：JS 执行耗时（长任务会标红，>50ms 需优化）；
	- **Rendering**：布局计算（重排）耗时；
	- **Painting**：绘制（重绘）耗时；
	- **Idle**：主线程空闲时间（越多越好）。

##### 定位瓶颈实操

1. 找到标红的「Long Task」（长任务），点击查看详情，定位具体的 JS 函数 / 文件；

2. 查看网络请求：是否有请求耗时过长（如 TTFB 高）、请求顺序不合理（如关键 CSS 加载晚）；

3. 查看 Rendering 阶段：是否频繁重排 / 重绘（对应「Layout」「Paint」耗时高）；

4. 对比 FPS 曲线：卡顿时间段对应主线程的长任务 / 重排。

#### 三、组合使用建议

1. 先用 Lighthouse 快速获取整体性能得分和优化方向；

2. 再用 Performance 面板精准定位具体瓶颈（如长任务对应的函数、重排的触发原因）；

3. 优化后再次检测，对比得分 / 指标变化，验证优化效果。`;export{n as default};
