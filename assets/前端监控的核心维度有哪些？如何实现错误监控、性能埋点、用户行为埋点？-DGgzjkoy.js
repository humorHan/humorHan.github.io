const e="### 21. 前端监控的核心维度有哪些？如何实现错误监控、性能埋点、用户行为埋点？\n**答：**\n#### 一、前端监控核心维度\n	#### 二、错误监控实现\n1. **全局错误捕获**：\n```javascript\n````\n\n// 捕获 JS 运行时错误 window.addEventListener('error', (event) => {const errorInfo = {type: 'js_error',message: event.message,filename: event.filename,line: event.lineno,column: event.colno,stack: event.error?.stack || ''};// 上报到监控平台 reportError(errorInfo);});// 捕获 Promise 未捕获异常 window.addEventListener('unhandledrejection', (event) => {const errorInfo = {type: 'promise_error',reason: event.reason?.message || 'Promise 异常',stack: event.reason?.stack || ''};reportError(errorInfo);});// Vue 框架错误捕获\napp.config.errorHandler = (err, vm, info) => {const errorInfo = {type: 'vue_error',message: err.message,\ninfo,stack: err.stack};reportError(errorInfo);};\n\n````\n	1. **资源加载错误捕获**：监听 `error` 事件（图片、脚本、样式），上报资源 URL 和错误类型。\n	2. **接口错误捕获**：封装 Axios 请求拦截器，捕获响应状态码非 2xx 的请求，上报接口 URL、参数、状态码。\n	#### 三、性能埋点实现\n	1. **基于 Navigation Timing API**：\n	```javascript\n// 页面加载完成后获取性能数据window.addEventListener('load', () => {const perfData = performance.getEntriesByType('navigation')[0];const performanceInfo = {fcp: performance.getEntriesByType('paint').find(item => item.name === 'first-contentful-paint')?.startTime || 0,lcp: performance.getEntriesByType('largest-contentful-paint')[0]?.startTime || 0,ttfb: perfData.responseStart - perfData.requestStart, // 首字节时间loadTime: perfData.loadEventStart - perfData.navigationStart // 页面加载总时间};reportPerformance(performanceInfo);});\n````\n\n````\n1. **自定义性能埋点**：记录核心功能耗时（如组件渲染、接口请求），通过 `console.time()`/`console.timeEnd()` 或 `Date.now()` 计算。\n#### 四、用户行为埋点实现\n1. **手动埋点（精准）**：\n```javascript\n````\n\n// 封装埋点函数 const trackEvent = (eventName, params = {}) => {const data = {\neventName,page: window.location.pathname,timestamp: Date.now(),userId: localStorage.getItem('userId'),...params\n};// 上报（可批量、防抖）reportTrack(data);};// 按钮点击埋点 document.querySelector('#submit-btn').addEventListener('click', () => {trackEvent('submit_order', { orderId: '123456' });});\n\n````\n	1. **自动埋点（高效）**：通过事件委托监听全局点击事件，过滤目标元素（如带 `data-track` 属性的元素），自动上报行为。\n	2. **页面埋点**：监听 `visibilitychange` 事件，记录页面停留时长；监听 `hashchange`/`popstate` 记录路由跳转。";export{e as default};
