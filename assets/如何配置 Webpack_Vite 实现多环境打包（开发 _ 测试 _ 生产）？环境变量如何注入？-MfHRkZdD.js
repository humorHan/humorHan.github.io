const n='### 12. 如何配置 Webpack/Vite 实现多环境打包（开发 / 测试 / 生产）？环境变量如何注入？\n**答：**\n#### 一、多环境配置核心思路\n1. 为不同环境创建独立配置文件（如 `.env.development`、`.env.production`）；\n2. 通过脚本命令指定环境，构建工具加载对应环境变量；\n3. 环境变量注入代码，区分不同环境的接口地址、功能开关等。\n#### 二、Vite 多环境配置（更简洁）\n1. **创建环境文件**：\n	- `.env.development`：`VITE_API_BASE_URL=http://dev.example.com`\n	- `.env.test`：`VITE_API_BASE_URL=http://test.example.com`\n	- `.env.production`：`VITE_API_BASE_URL=http://prod.example.com`（Vite 仅暴露以 `VITE_` 开头的变量）\n2. **配置 package.json 脚本**：\n```json\n````\n\n"scripts": {"dev": "vite", // 默认加载 .env.development"build:test": "vite build --mode test","build:prod": "vite build --mode production"}\n\n````\n	1. **代码中使用环境变量**：\n\n	```javascript\nconsole.log(import.meta.env.VITE_API_BASE_URL)\n````\n\n````\n#### 三、Webpack 多环境配置\n1. **安装依赖**：`pnpm add -D cross-env dotenv`\n2. **创建环境文件**：\n	- `.env.dev`：`API_BASE_URL=http://dev.example.com`\n	- `.env.test`：`API_BASE_URL=http://test.example.com`\n3. **配置 webpack.config.js**：\n```javascript\n````\n\nconst dotenv = require(\'dotenv\')const env = process.env.NODE_ENV // 由 cross-env 传入\ndotenv.config({ path: `.env.${env}` })\n\nmodule.exports = {plugins: [new webpack.DefinePlugin({// 注入环境变量到代码中\'process.env\': JSON.stringify(process.env)})]}\n\n````\n	1. **配置脚本**：\n	2. json\n	```json\n"scripts": {"build:dev": "cross-env NODE_ENV=dev webpack","build:test": "cross-env NODE_ENV=test webpack","build:prod": "cross-env NODE_ENV=production webpack"}\n````\n\n````';export{n as default};
