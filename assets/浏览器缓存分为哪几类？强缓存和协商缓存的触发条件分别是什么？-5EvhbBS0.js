const n=`#### 浏览器缓存分为哪几类？强缓存和协商缓存的触发条件分别是什么？

【核心考察点】浏览器缓存的核心分类及核心触发逻辑，对 HTTP 缓存基础机制的理解【参考答案】

##### 一、浏览器缓存的分类（按缓存策略划分）

浏览器缓存核心分为**强缓存**和**协商缓存**两大类（按存储位置划分有 Memory Cache、Disk Cache 等，此为另一维度）；此外还有 Service Worker Cache、Push Cache 等特殊缓存，但面试核心是前两者。

##### 二、强缓存的触发条件

强缓存是浏览器直接读取本地缓存，无需和服务器通信，触发依赖 HTTP 响应头：

1. \`Expires\`（HTTP/1.0）：值为绝对时间（如 \`Expires: Wed, 17 Dec 2025 12:00:00 GMT\`），客户端当前时间早于该时间则触发；缺陷是依赖客户端时间，易因时间不同步失效。
2. \`Cache-Control: max-age=<秒数>\`（HTTP/1.1，优先级更高）：如 \`max-age=3600\` 表示缓存有效期 1 小时，有效期内直接使用本地缓存。

##### 三、协商缓存的触发条件

强缓存失效后触发，浏览器携带缓存标识请求服务器，由服务器判断是否使用缓存：

1. 基于 \`Last-Modified/If-Modified-Since\`：
   - 服务器首次返回资源时带 \`Last-Modified\`（资源最后修改时间）；
   - 强缓存失效后，浏览器请求头带 \`If-Modified-Since\`（值为上次的 Last-Modified）；
   - 服务器对比时间：未修改返回 304，浏览器用缓存；已修改返回 200 + 新资源。

2. 基于 \`ETag/If-None-Match\`（优先级更高）：
   - 服务器首次返回资源时带 \`ETag\`（资源唯一哈希值）；
   - 强缓存失效后，浏览器请求头带 \`If-None-Match\`（值为上次的 ETag）；
   - 服务器对比标识：未变化返回 304，变化返回 200 + 新资源 + 新 ETag。
`;export{n as default};
