const n=`## 14. 弱网环境下前端该如何优化网络请求？

### 核心优化手段

1. **缓存最大化**：

   - 强缓存（\`Cache-Control: max-age=xxx\`）+ 协商缓存（ETag/Last-Modified），减少重复请求；
   - 本地存储（localStorage/indexedDB）缓存非实时数据，弱网时优先读取本地；
   - Service Worker 实现离线缓存，断网时返回缓存资源。
2. **减少请求 / 资源体积**：

   - 代码分割（Code Splitting）：按需加载 JS/CSS，避免首屏加载大文件；
   - 资源压缩：Gzip/Brotli 压缩文本资源，图片优化（WebP/AVIF、懒加载、压缩、雪碧图）；
   - 请求合并：将多个小请求合并为一个（如接口批量请求），减少 TCP 握手次数。
3. **请求策略优化**：

   - 优先级控制：核心请求（如首屏接口）优先发送，非核心请求延迟 / 懒加载；
   - 重试机制：关键请求添加重试（指数退避策略，如 1s→2s→4s 重试），避免单次丢包失败；
   - 超时控制：合理设置请求超时时间，避免长时间等待；
   - 分片传输：大文件（如上传 / 下载）分片，丢包仅重传分片，不重传整体。
4. **传输协议优化**：使用 HTTP/2/HTTP/3，提升弱网下的传输效率（HTTP/3 基于 UDP，抗丢包能力更强）。
5. **交互体验优化**：

   - 加载状态提示（骨架屏、加载动画），避免用户感知卡顿；
   - 断网提示 / 重试按钮，允许用户手动触发重连；
   - 预加载：预判用户行为（如点击下一页），提前加载资源。
6. **其他优化**：

   - 减少 DNS 解析次数（合并域名、DNS 预解析）；
   - 避免大体积 Cookie（Cookie 随请求发送，增大请求体积）；
   - 心跳包优化：减少无用心跳，仅保留必要的长连接心跳。`;export{n as default};
