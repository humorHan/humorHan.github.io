const T=`### 9. HTTP/2 和 HTTP/1.1 相比有哪些性能优势？HTTP/3 的核心改进是什么？

**答案：**

#### 一、HTTP/2 对比 HTTP/1.1 的核心性能优势

HTTP/1.1 痛点：**队头阻塞**（一个连接中，前一个请求未完成，后续请求需等待）、请求 / 响应头冗余、仅支持文本传输。

HTTP/2 基于二进制帧重构，核心优势：

1. **多路复用（Multiplexing）**

   - 核心：一个 TCP 连接中可同时传输多个请求 / 响应（并行处理），解决 HTTP/1.1 的队头阻塞问题；
   - 效果：无需建立多个 TCP 连接（HTTP/1.1 为并行请求需开 6-8 个连接），减少连接建立耗时（TCP 三次握手）。
2. **二进制分帧**

   - HTTP/1.1 基于文本，解析复杂且易出错；HTTP/2 将请求 / 响应拆分为二进制帧，解析更快、更高效。
3. **头部压缩（HPACK）**

   - 对请求 / 响应头进行压缩（如重复的 Header 只传输一次），减少头部体积（HTTP/1.1 头常占 几百 KB）。
4. **服务器推送（Server Push）**

   - 服务器可主动推送客户端需要的资源（如 HTML 引用的 CSS/JS），无需客户端发起请求，提升首屏加载速度。
5. **优先级设置**

   - 可给请求设置优先级（如首屏 CSS 优先级高于非首屏图片），服务器优先处理高优先级请求。

#### 二、HTTP/3 的核心改进

HTTP/3 基于 QUIC 协议（UDP 之上的可靠传输协议），核心解决 HTTP/2 的 “TCP 队头阻塞” 问题：

1. **基于 UDP 协议**

   - HTTP/2 虽解决了应用层队头阻塞，但仍基于 TCP，TCP 连接中一个数据包丢失，整个连接的所有请求都需等待重传；
   - QUIC 基于 UDP，实现了 “流级别的队头阻塞解决”：一个流（请求）的数据包丢失，仅该流等待重传，其他流不受影响。
2. **更快的连接建立**

   - TCP 建立连接需 3 次握手（耗时 ～1RTT），HTTPS 还需 TLS 握手（再 +1RTT）；
   - QUIC 整合了 TCP 握手和 TLS 握手，首次连接仅需 1RTT，复用连接时可 0RTT 建立。
3. **内置 TLS 1.3**

   - 强制加密，且 TLS 1.3 比 TLS 1.2 握手更快，提升安全且不牺牲性能。
4. **连接迁移**

   - TCP 连接基于 “IP + 端口” 标识，用户切换网络（如 WiFi → 5G）时，IP 变化导致连接断开，需重新建立；
   - QUIC 用 UUID 标识连接，IP 变化时连接可无缝迁移，提升移动端体验。`;export{T as default};
