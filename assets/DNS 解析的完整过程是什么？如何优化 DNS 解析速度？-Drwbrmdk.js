const N=`## 4. DNS 解析的完整过程是什么？如何优化 DNS 解析速度？

### 完整解析过程（从本地到根服务器）

1. **本地缓存查询**：优先查浏览器缓存 → 操作系统缓存（hosts 文件）→ 本地 DNS 缓存（如路由器），命中则直接返回。
2. **本地 DNS 服务器查询**：未命中则请求本地 DNS 服务器（运营商提供），若本地 DNS 有缓存则返回。
3. **递归查询（本地 DNS → 根服务器）**：

   - 本地 DNS → 根 DNS 服务器：询问域名对应的顶级域 DNS（如 .com）。
   - 本地 DNS → 顶级域 DNS 服务器：询问域名对应的权威 DNS 服务器（如阿里云 DNS）。
   - 本地 DNS → 权威 DNS 服务器：获取域名的 IP 地址。
4. **结果返回**：权威 DNS → 本地 DNS → 操作系统 → 浏览器，同时各级缓存解析结果。

### 优化 DNS 解析速度

1. **DNS 缓存优化**：延长缓存过期时间（合理设置 TTL），利用浏览器 / 本地缓存。
2. **DNS 预解析**：\`<link rel="dns-prefetch" href="https://xxx.com">\` 提前解析域名。
3. **减少 DNS 解析次数**：合并域名（如静态资源统一域名），避免多域名解析。
4. **CNAME 优化**：减少 CNAME 嵌套（CNAME 会增加解析步骤）。
5. **使用 HTTPDNS**：绕过运营商本地 DNS，直接请求权威 DNS，避免 DNS 劫持 / 解析慢。
6. **就近 DNS 节点**：选择靠近用户的 DNS 服务器（如阿里云 DNS、114DNS）。`;export{N as default};
