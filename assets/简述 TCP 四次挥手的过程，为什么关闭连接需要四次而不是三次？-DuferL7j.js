const _=`## 3. 简述 TCP 四次挥手的过程，为什么关闭连接需要四次而不是三次？

### 四次挥手过程

TCP 是全双工通信（双方可同时收发），关闭连接需分别关闭「读」「写」通道：

1. **第一次挥手（FIN）**：主动关闭方 → 被动关闭方，发送 FIN 包（表示无数据要发，关闭写通道），进入 FIN_WAIT_1 状态。
2. **第二次挥手（ACK）**：被动关闭方 → 主动关闭方，发送 ACK 包（确认 FIN，关闭对端写通道），进入 CLOSE_WAIT 状态；主动关闭方进入 FIN_WAIT_2 状态。
3. **第三次挥手（FIN）**：被动关闭方处理完剩余数据后，发送 FIN 包（关闭自己的写通道），进入 LAST_ACK 状态。
4. **第四次挥手（ACK）**：主动关闭方 → 被动关闭方，发送 ACK 包（确认 FIN），进入 TIME_WAIT 状态；被动关闭方收到 ACK 后关闭连接；主动关闭方等待 2MSL（最大报文生存时间）后也关闭。

### 为什么需要四次（核心：全双工特性）

- 三次挥手无法满足「双向关闭」：被动关闭方收到 FIN 后，可能还有未发送的剩余数据，需先 ACK 确认「对方写通道关闭」，待数据发送完毕后，再主动发 FIN 关闭自己的写通道。
- 若三次挥手，被动关闭方需同时发 FIN+ACK，可能导致「数据未发完就关闭连接」，丢失数据。`;export{_ as default};
